#!/usr/bin/env bash

# Function to get DNS information for a subdomain
get_dns_info() {
    local domain=$1
    local subdomain=$2
    local full_domain="${subdomain}.${domain}"
    
    # Use dig to get the DNS record information
    local result=$(dig "$full_domain" +short)
    
    # Determine record type (simplified to A record for this task)
    if [[ -n "$result" ]]; then
        echo "The subdomain $subdomain is a A record and points to $result"
    fi
}

# Main script
if [[ $# -lt 1 ]]; then
    echo "Usage: $0 domain [subdomain]"
    exit 1
fi

domain=$1
subdomain=$2

if [[ -z "$subdomain" ]]; then
    # Process default subdomains in order
    for sd in www lb-01 web-01 web-02; do
        get_dns_info "$domain" "$sd"
    done
else
    # Process only the specified subdomain
    get_dns_info "$domain" "$subdomain"
fi
