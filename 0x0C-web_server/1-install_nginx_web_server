#!/bin/bash
# This script installs and configures Nginx web server

# Install Nginx with automatic yes to prompts
apt-get update
apt-get install -y nginx

# Configure Nginx to serve "Hello World!" on port 80
cat > /var/www/html/index.nginx-debian.html <<EOF
<!DOCTYPE html>
<html>
<head>
<title>Hello World!</title>
</head>
<body>
<h1>Hello World!</h1>
</body>
</html>
EOF

# Ensure Nginx is configured to listen on port 80
sed -i 's/listen \[::\]:80 default_server;/listen \[::\]:80;/' /etc/nginx/sites-enabled/default

# Restart Nginx without using systemctl
service nginx restart

# Verify Nginx is running on port 80
netstat -tulnp | grep ':80'