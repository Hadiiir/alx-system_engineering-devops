[34m
* Datadog Agent install script v1.36.0
[0m
/usr/bin/systemctl
[33mWarning: DD_AGENT_MAJOR_VERSION not set. Installing Datadog Agent version 6 by default.[0m
[34m
* Installing curl gnupg
[0m
Get:1 http://security.ubuntu.com/ubuntu noble-security InRelease [126 kB]
Hit:2 http://eg.archive.ubuntu.com/ubuntu noble InRelease
Hit:3 https://download.docker.com/linux/ubuntu noble InRelease
Ign:4 https://ppa.launchpadcontent.net/vbernat/haproxy-1.8/ubuntu noble InRelease
Get:5 https://dl.google.com/linux/chrome/deb stable InRelease [1,825 B]
Get:6 https://deb.nodesource.com/node_18.x nodistro InRelease [12.1 kB]
Get:7 http://eg.archive.ubuntu.com/ubuntu noble-updates InRelease [126 kB]
Ign:8 https://ppa.launchpadcontent.net/vbernat/haproxy-2.4/ubuntu noble InRelease
Get:9 https://dl.google.com/linux/chrome/deb stable/main amd64 Packages [1,209 B]
Get:10 https://pkgs.tailscale.com/stable/ubuntu noble InRelease
Err:11 https://ppa.launchpadcontent.net/vbernat/haproxy-1.8/ubuntu noble Release
  404  Not Found [IP: 185.125.190.80 443]
Get:12 https://deb.nodesource.com/node_18.x nodistro/main amd64 Packages [11.6 kB]
Err:13 https://ppa.launchpadcontent.net/vbernat/haproxy-2.4/ubuntu noble Release
  404  Not Found [IP: 185.125.190.80 443]
Get:14 http://security.ubuntu.com/ubuntu noble-security/main amd64 Packages [1,009 kB]
Get:15 http://eg.archive.ubuntu.com/ubuntu noble-backports InRelease [126 kB]
Get:16 http://eg.archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages [1,269 kB]
Get:17 http://security.ubuntu.com/ubuntu noble-security/main Translation-en [178 kB]
Get:18 http://security.ubuntu.com/ubuntu noble-security/main amd64 Components [21.5 kB]
Get:19 http://security.ubuntu.com/ubuntu noble-security/restricted amd64 Packages [1,436 kB]
Get:20 http://security.ubuntu.com/ubuntu noble-security/restricted Translation-en [311 kB]
Get:21 http://security.ubuntu.com/ubuntu noble-security/restricted amd64 Components [212 B]
Get:22 http://security.ubuntu.com/ubuntu noble-security/universe amd64 Packages [873 kB]
Get:23 http://eg.archive.ubuntu.com/ubuntu noble-updates/main Translation-en [258 kB]
Get:24 http://eg.archive.ubuntu.com/ubuntu noble-updates/main amd64 Components [163 kB]
Get:25 http://security.ubuntu.com/ubuntu noble-security/universe Translation-en [192 kB]
Get:26 http://eg.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Packages [1,533 kB]
Get:27 http://security.ubuntu.com/ubuntu noble-security/universe amd64 Components [52.3 kB]
Get:28 http://security.ubuntu.com/ubuntu noble-security/multiverse amd64 Components [212 B]
Get:29 http://eg.archive.ubuntu.com/ubuntu noble-updates/restricted Translation-en [330 kB]
Get:30 http://eg.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Components [212 B]
Get:31 http://eg.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Packages [1,111 kB]
Get:32 http://eg.archive.ubuntu.com/ubuntu noble-updates/universe Translation-en [284 kB]
Get:33 http://eg.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Components [376 kB]
Get:34 http://eg.archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 Components [940 B]
Get:35 http://eg.archive.ubuntu.com/ubuntu noble-backports/main amd64 Components [7,060 B]
Get:36 http://eg.archive.ubuntu.com/ubuntu noble-backports/restricted amd64 Components [216 B]
Get:37 http://eg.archive.ubuntu.com/ubuntu noble-backports/universe amd64 Components [28.4 kB]
Get:38 http://eg.archive.ubuntu.com/ubuntu noble-backports/multiverse amd64 Components [212 B]
Reading package lists...
E: The repository 'https://ppa.launchpadcontent.net/vbernat/haproxy-1.8/ubuntu noble Release' does not have a Release file.
E: The repository 'https://ppa.launchpadcontent.net/vbernat/haproxy-2.4/ubuntu noble Release' does not have a Release file.
[31m'apt-get update' failed, the script will not install the latest version of apt-transport-https.[0m
Reading package lists...
Building dependency tree...
Reading state information...
curl is already the newest version (8.5.0-2ubuntu10.6).
The following packages were automatically installed and are no longer required:
  gyp handlebars libjs-async libjs-events libjs-inherits libjs-is-typedarray
  libjs-prettify libjs-regenerate libjs-source-map libjs-sprintf-js
  libjs-typedarray-to-buffer libre2-10 libssl-dev libuv1-dev node-abbrev
  node-ampproject-remapping node-ansi-escapes node-ansi-regex node-ansi-styles
  node-aproba node-are-we-there-yet node-argparse node-arrify node-async
  node-async-each node-auto-bind node-babel-plugin-add-module-exports
  node-babel7-runtime node-balanced-match node-base64-js
  node-binary-extensions node-brace-expansion node-busboy node-camelcase
  node-caniuse-lite node-chownr node-chrome-trace-event node-ci-info
  node-cjs-module-lexer node-cli-boxes node-cli-cursor node-clone
  node-clone-deep node-collection-visit node-color-convert node-color-name
  node-colors node-commander node-commondir node-concat-stream
  node-console-control-strings node-convert-source-map node-core-js
  node-core-js-pure node-core-util-is node-data-uri-to-buffer
  node-decompress-response node-deep-is node-defaults node-define-property
  node-delegates node-depd node-diff node-electron-to-chromium node-encoding
  node-end-of-stream node-err-code node-error-ex node-es-module-lexer
  node-escape-string-regexp node-eslint-utils node-eslint-visitor-keys
  node-esquery node-estraverse node-esutils node-events node-fancy-log
  node-fast-deep-equal node-fast-levenshtein node-fetch node-find-up
  node-flatted node-for-in node-for-own node-foreground-child
  node-fs-readdir-recursive node-fs-write-stream-atomic node-fs.realpath
  node-function-bind node-functional-red-black-tree node-get-caller-file
  node-get-stream node-get-value node-glob node-globals node-got
  node-graceful-fs node-growl node-has-flag node-has-unicode node-has-value
  node-has-values node-hosted-git-info node-iconv-lite node-ieee754 node-iferr
  node-imurmurhash node-indent-string node-inflight node-inherits node-ini
  node-interpret node-ip node-ip-regex node-is-arrayish node-is-binary-path
  node-is-buffer node-is-descriptor node-is-extendable node-is-extglob
  node-is-path-cwd node-is-plain-obj node-is-plain-object node-is-stream
  node-is-typedarray node-is-windows node-isarray node-isexe node-isobject
  node-js-tokens node-jsesc node-json-buffer node-json-parse-better-errors
  node-json-schema node-json-schema-traverse node-json-stable-stringify
  node-jsonify node-jsonparse node-kind-of node-levn node-loader-runner
  node-locate-path node-lodash-packages node-log-driver node-lowercase-keys
  node-lru-cache node-map-visit node-memfs node-merge-stream
  node-mimic-response node-minimatch node-minimist node-minipass
  node-mixin-deep node-mute-stream node-n3 node-negotiator node-neo-async
  node-npm-run-path node-object-inspect node-object-visit node-once
  node-optimist node-optionator node-osenv node-p-cancelable node-p-limit
  node-p-locate node-p-map node-pascalcase node-path-dirname node-path-exists
  node-path-is-absolute node-path-is-inside node-path-type node-pify
  node-pkg-dir node-postcss-value-parser node-prelude-ls
  node-process-nextick-args node-promise-inflight node-promise-retry
  node-promzard node-prr node-pump node-punycode node-quick-lru
  node-randombytes node-read node-readable-stream node-rechoir node-regenerate
  node-regenerate-unicode-properties node-regenerator-runtime
  node-regenerator-transform node-regexpp node-regjsgen node-repeat-string
  node-require-directory node-require-from-string node-resolve
  node-resolve-cwd node-resolve-from node-restore-cursor node-resumer
  node-retry node-run-queue node-safe-buffer node-sellside-emitter
  node-serialize-javascript node-set-blocking node-set-immediate-shim
  node-shebang-command node-shebang-regex node-shell-quote node-signal-exit
  node-slash node-slice-ansi node-source-list-map node-source-map
  node-source-map-support node-spdx-correct node-spdx-exceptions
  node-spdx-expression-parse node-spdx-license-ids node-sprintf-js node-ssri
  node-stack-utils node-string-decoder node-strip-bom node-strip-json-comments
  node-supports-color node-tapable node-terser node-text-table node-through
  node-time-stamp node-to-fast-properties node-tslib node-type-check
  node-typedarray node-typedarray-to-buffer node-undici
  node-unicode-canonical-property-names-ecmascript
  node-unicode-match-property-value-ecmascript
  node-unicode-property-aliases-ecmascript node-unique-filename
  node-unset-value node-uri-js node-util-deprecate node-uuid node-v8flags
  node-validate-npm-package-license node-wcwidth.js node-webpack-sources
  node-wordwrap node-wrappy node-write-file-atomic node-xtend node-y18n
  node-yallist node-yaml
Use 'sudo apt autoremove' to remove them.
The following additional packages will be installed:
  dirmngr gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpgconf gpgsm
  gpgv keyboxd
Suggested packages:
  tor parcimonie xloadimage gpg-wks-server scdaemon
The following packages will be upgraded:
  dirmngr gnupg gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpgconf
  gpgsm gpgv keyboxd
11 upgraded, 0 newly installed, 0 to remove and 113 not upgraded.
Need to get 0 B/2,292 kB of archives.
After this operation, 0 B of additional disk space will be used.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 217495 files and directories currently installed.)
Preparing to unpack .../0-gpg-wks-client_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking gpg-wks-client (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../1-dirmngr_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking dirmngr (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../2-gpgsm_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking gpgsm (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../3-gnupg-utils_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking gnupg-utils (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../4-gpg-agent_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking gpg-agent (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../5-gpg_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking gpg (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../6-gpgconf_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking gpgconf (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../7-gnupg_2.4.4-2ubuntu17.3_all.deb ...
Unpacking gnupg (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../8-keyboxd_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking keyboxd (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Preparing to unpack .../9-gpgv_2.4.4-2ubuntu17.3_amd64.deb ...
Unpacking gpgv (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Setting up gpgv (2.4.4-2ubuntu17.3) ...
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 217495 files and directories currently installed.)
Preparing to unpack .../gnupg-l10n_2.4.4-2ubuntu17.3_all.deb ...
Unpacking gnupg-l10n (2.4.4-2ubuntu17.3) over (2.4.4-2ubuntu17.2) ...
Setting up gnupg-l10n (2.4.4-2ubuntu17.3) ...
Setting up gpgconf (2.4.4-2ubuntu17.3) ...
Setting up gpg (2.4.4-2ubuntu17.3) ...
Setting up gnupg-utils (2.4.4-2ubuntu17.3) ...
Setting up gpg-agent (2.4.4-2ubuntu17.3) ...
Setting up gpgsm (2.4.4-2ubuntu17.3) ...
Setting up dirmngr (2.4.4-2ubuntu17.3) ...
Setting up keyboxd (2.4.4-2ubuntu17.3) ...
Setting up gnupg (2.4.4-2ubuntu17.3) ...
Setting up gpg-wks-client (2.4.4-2ubuntu17.3) ...
Processing triggers for install-info (7.1-3build2) ...
Processing triggers for man-db (2.12.0-4build2) ...
[34m
* Installing APT package sources for Datadog
[0m
gpg: directory '/root/.gnupg' created
gpg: /root/.gnupg/trustdb.gpg: trustdb created
gpg: key E6266D4AC0962C7D: public key "Datadog, Inc. APT key (2023-04-20) (APT key) <package+aptkey@datadoghq.com>" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: key 0D826EB906462314: public key "Datadog, Inc. APT key (2024-05-15) (APT key) <package+aptkey@datadoghq.com>" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: key E6266D4AC0962C7D: "Datadog, Inc. APT key (2023-04-20) (APT key) <package+aptkey@datadoghq.com>" not changed
gpg: Total number processed: 1
gpg:              unchanged: 1
gpg: key 32637D44F14F620E: public key "Datadog, Inc. Master key (2020-09-08) <package+masterkey@datadoghq.com>" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: key D3A80E30382E94DE: public key "Datadog, Inc <package@datadoghq.com>" imported
gpg: Total number processed: 1
gpg:               imported: 1
Ign:1 https://apt.datadoghq.com stable InRelease
Get:2 https://apt.datadoghq.com stable Release [26.0 kB]
Get:3 https://apt.datadoghq.com stable Release.gpg [801 B]
Get:4 https://apt.datadoghq.com stable/6 amd64 Packages [37.6 kB]
Get:5 https://apt.datadoghq.com stable/6 all Packages [1,184 B]
Fetched 65.5 kB in 1s (54.5 kB/s)
Reading package lists...
  [33mInstalling package(s): datadog-agent datadog-signing-keys
[0m
Reading package lists...
Building dependency tree...
Reading state information...
The following packages were automatically installed and are no longer required:
  gyp handlebars libjs-async libjs-events libjs-inherits libjs-is-typedarray
  libjs-prettify libjs-regenerate libjs-source-map libjs-sprintf-js
  libjs-typedarray-to-buffer libre2-10 libssl-dev libuv1-dev node-abbrev
  node-ampproject-remapping node-ansi-escapes node-ansi-regex node-ansi-styles
  node-aproba node-are-we-there-yet node-argparse node-arrify node-async
  node-async-each node-auto-bind node-babel-plugin-add-module-exports
  node-babel7-runtime node-balanced-match node-base64-js
  node-binary-extensions node-brace-expansion node-busboy node-camelcase
  node-caniuse-lite node-chownr node-chrome-trace-event node-ci-info
  node-cjs-module-lexer node-cli-boxes node-cli-cursor node-clone
  node-clone-deep node-collection-visit node-color-convert node-color-name
  node-colors node-commander node-commondir node-concat-stream
  node-console-control-strings node-convert-source-map node-core-js
  node-core-js-pure node-core-util-is node-data-uri-to-buffer
  node-decompress-response node-deep-is node-defaults node-define-property
  node-delegates node-depd node-diff node-electron-to-chromium node-encoding
  node-end-of-stream node-err-code node-error-ex node-es-module-lexer
  node-escape-string-regexp node-eslint-utils node-eslint-visitor-keys
  node-esquery node-estraverse node-esutils node-events node-fancy-log
  node-fast-deep-equal node-fast-levenshtein node-fetch node-find-up
  node-flatted node-for-in node-for-own node-foreground-child
  node-fs-readdir-recursive node-fs-write-stream-atomic node-fs.realpath
  node-function-bind node-functional-red-black-tree node-get-caller-file
  node-get-stream node-get-value node-glob node-globals node-got
  node-graceful-fs node-growl node-has-flag node-has-unicode node-has-value
  node-has-values node-hosted-git-info node-iconv-lite node-ieee754 node-iferr
  node-imurmurhash node-indent-string node-inflight node-inherits node-ini
  node-interpret node-ip node-ip-regex node-is-arrayish node-is-binary-path
  node-is-buffer node-is-descriptor node-is-extendable node-is-extglob
  node-is-path-cwd node-is-plain-obj node-is-plain-object node-is-stream
  node-is-typedarray node-is-windows node-isarray node-isexe node-isobject
  node-js-tokens node-jsesc node-json-buffer node-json-parse-better-errors
  node-json-schema node-json-schema-traverse node-json-stable-stringify
  node-jsonify node-jsonparse node-kind-of node-levn node-loader-runner
  node-locate-path node-lodash-packages node-log-driver node-lowercase-keys
  node-lru-cache node-map-visit node-memfs node-merge-stream
  node-mimic-response node-minimatch node-minimist node-minipass
  node-mixin-deep node-mute-stream node-n3 node-negotiator node-neo-async
  node-npm-run-path node-object-inspect node-object-visit node-once
  node-optimist node-optionator node-osenv node-p-cancelable node-p-limit
  node-p-locate node-p-map node-pascalcase node-path-dirname node-path-exists
  node-path-is-absolute node-path-is-inside node-path-type node-pify
  node-pkg-dir node-postcss-value-parser node-prelude-ls
  node-process-nextick-args node-promise-inflight node-promise-retry
  node-promzard node-prr node-pump node-punycode node-quick-lru
  node-randombytes node-read node-readable-stream node-rechoir node-regenerate
  node-regenerate-unicode-properties node-regenerator-runtime
  node-regenerator-transform node-regexpp node-regjsgen node-repeat-string
  node-require-directory node-require-from-string node-resolve
  node-resolve-cwd node-resolve-from node-restore-cursor node-resumer
  node-retry node-run-queue node-safe-buffer node-sellside-emitter
  node-serialize-javascript node-set-blocking node-set-immediate-shim
  node-shebang-command node-shebang-regex node-shell-quote node-signal-exit
  node-slash node-slice-ansi node-source-list-map node-source-map
  node-source-map-support node-spdx-correct node-spdx-exceptions
  node-spdx-expression-parse node-spdx-license-ids node-sprintf-js node-ssri
  node-stack-utils node-string-decoder node-strip-bom node-strip-json-comments
  node-supports-color node-tapable node-terser node-text-table node-through
  node-time-stamp node-to-fast-properties node-tslib node-type-check
  node-typedarray node-typedarray-to-buffer node-undici
  node-unicode-canonical-property-names-ecmascript
  node-unicode-match-property-value-ecmascript
  node-unicode-property-aliases-ecmascript node-unique-filename
  node-unset-value node-uri-js node-util-deprecate node-uuid node-v8flags
  node-validate-npm-package-license node-wcwidth.js node-webpack-sources
  node-wordwrap node-wrappy node-write-file-atomic node-xtend node-y18n
  node-yallist node-yaml
Use 'sudo apt autoremove' to remove them.
The following NEW packages will be installed:
  datadog-agent datadog-signing-keys
0 upgraded, 2 newly installed, 0 to remove and 113 not upgraded.
Need to get 297 MB of archives.
After this operation, 1,454 MB of additional disk space will be used.
Get:1 https://apt.datadoghq.com stable/6 amd64 datadog-agent amd64 1:6.53.1-1 [296 MB]
Get:2 https://apt.datadoghq.com stable/6 amd64 datadog-signing-keys all 1:1.4.0-1 [23.7 kB]
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)
debconf: falling back to frontend: Readline
Fetched 297 MB in 5min 10s (956 kB/s)
Selecting previously unselected package datadog-agent.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 217495 files and directories currently installed.)
Preparing to unpack .../datadog-agent_1%3a6.53.1-1_amd64.deb ...
Unpacking datadog-agent (1:6.53.1-1) ...
Selecting previously unselected package datadog-signing-keys.
Preparing to unpack .../datadog-signing-keys_1%3a1.4.0-1_all.deb ...
Unpacking datadog-signing-keys (1:1.4.0-1) ...
Setting up datadog-agent (1:6.53.1-1) ...
Creating dd-agent group
Creating dd-agent user
Enabling service datadog-agent
Created symlink /etc/systemd/system/multi-user.target.wants/datadog-agent.service â†’ /usr/lib/systemd/system/datadog-agent.service.
Created symlink /etc/systemd/system/multi-user.target.wants/datadog-agent-process.service â†’ /usr/lib/systemd/system/datadog-agent-process.service.
Created symlink /etc/systemd/system/multi-user.target.wants/datadog-agent-trace.service â†’ /usr/lib/systemd/system/datadog-agent-trace.service.
Created symlink /etc/systemd/system/multi-user.target.wants/datadog-agent-security.service â†’ /usr/lib/systemd/system/datadog-agent-security.service.
No datadog.yaml file detected, not starting the agent
Setting up datadog-signing-keys (1:1.4.0-1) ...
W: --force-yes is deprecated, use one of the options starting with --allow instead.
[34m
* Adding your API key to the Datadog Agent configuration: /etc/datadog-agent/datadog.yaml
[0m
[34m
* Setting SITE in the Datadog Agent configuration: /etc/datadog-agent/datadog.yaml
[0m
/usr/bin/systemctl
[34m* Starting the Datadog Agent...
[0m
[32m  Your Datadog Agent is running and functioning properly.
[0m[32m  It will continue to run in the background and submit metrics to Datadog.
[0m[32m  If you ever want to stop the Datadog Agent, run:

      sudo systemctl stop datadog-agent

  And to run it again run:

      sudo systemctl start datadog-agent[0m

[32m  Consider adding dd-agent to the docker group to enable the docker support, run:

      sudo usermod -a -G docker dd-agent[0m

curl: (22) The requested URL returned error: 403
Unable to send telemetry
